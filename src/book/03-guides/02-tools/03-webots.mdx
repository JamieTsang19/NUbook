---
section: Guides
chapter: Tools
title: Setting Up Webots
description: Setup instructions for Webots.
slug: /guides/tools/webots-setup
---

Webots is a physics environment created by Cyberbotics. This guide details how to set up Webots. It gives instructions on setting up Ubuntu (WSL) inside Windows for Windows users, and the rest of the guide is aimed at Ubuntu users (including Windows WSL Ubuntu users).

## Prerequisites

<details>

<summary>Windows</summary>

1. Follow the instructions for setting up Ubuntu in WSL on the [Getting Started NUbook page under the Windows tab in the Docker section](/guides/main/getting-started#docker).

2. In Windows (not WSL Ubuntu) Download and install [VcXsrv Windows X Server](https://sourceforge.net/projects/vcxsrv/files/latest/download). Use all the default install settings.

3. In Windows (not WSL Ubuntu) Run XLaunch with the following settings

   1. ![First XLaunch settings window](images/WindowsInstall1)
      On the first screen, select multiple windows and set the display number to -1.

   2. ![Second XLaunch settings window](images/WindowsInstall2)
      On the second screen, select 'start no client'.

   3. ![Third XLaunch settings window](images/WindowsInstall3)
      On the third screen, check 'clipboard', 'primary selection' and 'disable'. Uncheck 'native opengl'.

4. Launch Ubuntu and run

   ```sh
   sudo apt install libxcb-icccm4 libxcb-image0 libxcb-keysyms1 libxcb-render-util0 libxcb-xfixes0 libxcb-xinerama0 libxcb-xkb1 libxkbcommon-x11-0 libxkbcommon0
   ```

   <Alert type='info'>

   To be able to copy and paste into the Ubuntu terminal, right-click on the bar at the top of the Ubuntu window. Then click on **Properties**, and enable **Use Ctrl+Shift+C/V as Copy/Paste** in the **Options** tab. Note that this is <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>C</kbd>/<kbd>V</kbd> not <kbd>Ctrl</kbd>+<kbd>C</kbd>/<kbd>V</kbd>.

   </Alert>

5. Back in Windows, open Powershell and run `ipconfig`. Look for an entry that does **not** contain `VEthernet` in the name and contains an IPv4 address. Note down the IPv4 address. We will refer to it as `<IPv4 Address>`.

6. In Ubuntu, run `export DISPLAY=<IPv4 Address>:0.0`, using the IPv4 address from the previous step.

Follow the rest of the steps on this page within Ubuntu.

</details>

<details>

<summary> Arch Linux </summary>

1. Run `pacman -S --needed git lsb-release cmake swig glu glib2 freeimage freetype2 libxml2 libzip boost-libs gd libgcrypt libzip readline pbzip2 pciutils wget zip unzip jdk-openjdk libusb` to obtain the required dependencies.

2. After the clone step below, save 
	```diff
	--- a/src/webots/Makefile
	+++ b/src/webots/Makefile
	@@ -123,7 +123,7 @@
	 CFLAGS             = -fPIC
	 CXXFLAGS           = -std=c++11
	 MOC                = $(WEBOTS_PATH)/bin/qt/moc
	-LIBS              += $(WEBOTS_DEPENDENCY_PATH)/lua-5.2.3/src/liblua.a $(LIB_WREN) -Wl,-rpath $(WEBOTS_LIB_PATH) -L$(WEBOTS_LIB_PATH) -lQt5Core -lQt5Network -lQt5Gui -lQt5OpenGL -lQt5WebSockets -lQt5Widgets -lQt5PrintSupport -lQt5WebEngine -lQt5WebEngineCore -lQt5WebEngineWidgets -lQt5Multimedia -lQt5MultimediaWidgets -lQt5Sql -lQt5Sensors -lQt5WebChannel -lQt5Xml -lopenal -lGL -lusb -lGLU -ldl -lOIS -lcrypto -lpico -lfreetype -lassimp -lrt
	+LIBS              += $(WEBOTS_DEPENDENCY_PATH)/lua-5.2.3/src/liblua.a $(LIB_WREN) -Wl,-rpath $(WEBOTS_LIB_PATH) -L$(WEBOTS_LIB_PATH) -lQt5Core -lQt5Network -lQt5Gui -lQt5OpenGL -lQt5WebSockets -lQt5Widgets -lQt5PrintSupport -lQt5WebEngine -lQt5WebEngineCore -lQt5WebEngineWidgets -lQt5Multimedia -lQt5MultimediaWidgets -lQt5Sql -lQt5Sensors -lQt5WebChannel -lQt5Xml -lopenal -lGL $(pkg-config --libs libusb-1.0) -lGLU -ldl -lOIS -lcrypto -lpico -lfreetype -lassimp -lrt
	 LD_FLAGS           = -rdynamic
	 EXTRA_CMD          = cp launcher/webots-linux.sh $(WEBOTS_PATH)/webots && chmod 755 $(WEBOTS_PATH)/webots
	 FILES_TO_REMOVE    = $(WEBOTS_PATH)/webots
	```
	as `usb.patch` in the folder that you cloned Webots into then run
	```sh
	git apply usb.patch
	```

</details>

To ensure you have all the required packages, run

```sh
sudo apt-get install cmake
```

## Install Webots

To install Webots, use the instructions on the [Webots GitHub repository](https://github.com/cyberbotics/webots/wiki/Linux-installation). Follow these instructions inside Ubuntu (WSL) if you are a Windows user. See the previous section on how to set this up. The optional dependencies are not required.

## Get and Build the NUbots Environment

1. Open a terminal. Clone the [NUbots/Webots](https://github.com/NUbots/Webots/) repository and move into it by running

   ```sh
   git clone https://github.com/NUbots/Webots
   cd Webots
   ```

2. Compile the controllers with cmake

   1. Make a build folder and move into it

   ```sh
   mkdir build && cd build
   ```

   2. Configure and generate the build files

   ```sh
   cmake ..
   ```

   3. Compile the code

   ```sh
   make
   ```

## Running Webots

1. Launch Webots by running

   ```sh
   ./webots
   ```

2. Open the NUbots world file inside Webots.

   1. Click on `File->Open World...`.

   2. In the pop-up, navigate to the [NUbots/Webots](https://github.com/NUbots/Webots/) repository on your computer and open the `worlds/kid.wbt` world file.

Where <name of controller> is the name you want to use for the new controller. A folder and files will be created with this name, so they must be valid file names (don't use spaces in your controller name).
